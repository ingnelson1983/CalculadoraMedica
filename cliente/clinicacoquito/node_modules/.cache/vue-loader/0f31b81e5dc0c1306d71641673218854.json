{"remainingRequest":"C:\\MINTIC\\cliente\\clinicacoquito\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\MINTIC\\cliente\\clinicacoquito\\src\\views\\Pacientes.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\MINTIC\\cliente\\clinicacoquito\\src\\views\\Pacientes.vue","mtime":1634174811703},{"path":"C:\\MINTIC\\cliente\\clinicacoquito\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\MINTIC\\cliente\\clinicacoquito\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\MINTIC\\cliente\\clinicacoquito\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\MINTIC\\cliente\\clinicacoquito\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQoNCiAgICBkYXRhKCkgew0KICAgICAgICByZXR1cm4gew0KDQogICAgICAgICAgICBwYWNpZW50ZXM6IFtdLA0KICAgICAgICAgICAgbWVuc2FqZToge2NvbG9yOiAnc3VjY2VzcycsIHRleHRvOiAnJ30sIA0KICAgICAgICAgICAgZGlzbWlzc1NlY3M6IDUsIA0KICAgICAgICAgICAgZGlzbWlzc0NvdW50RG93bjogMCwNCg0KICAgICAgICAgICAgcGFjaWVudGU6e2lkZW50aWZpY2FjaW9uOiIiLG5vbWJyZToiIixlZGFkOiIiLHBlc286IiIsZXN0YXR1cmE6IiIsdGVuc2lvbmFydGVyaWFsOiIiLHNpc3RvbGljYToiIixkaWFzdG9saWNhOiIifSwNCiAgICAgICAgICAgIGVkaXRhcjpmYWxzZSwNCiAgICAgICAgICAgIHBhY2llbnRlRWRpdGFyOnt9DQoNCg0KDQogICAgICAgIH0NCg0KICAgIH0sDQoNCiAgICBjcmVhdGVkKCkgew0KDQogICAgICAgIHRoaXMubGlzdGFyUGFjaWVudGVzKCk7DQoNCiAgICB9LA0KDQogICAgbWV0aG9kczogew0KDQogICAgICAgIGxpc3RhclBhY2llbnRlcygpIHsNCg0KICAgICAgICAgICAgdGhpcy5heGlvcy5nZXQoJy9wYWNpZW50ZScpDQogICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLnBhY2llbnRlcyA9IHJlcy5kYXRhOw0KDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7DQoNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZS5yZXNwb25zZSk7DQoNCiAgICAgICAgICAgICAgICB9KQ0KDQogICAgICAgIH0sDQoNCiAgICAgICAgYWdyZWdhclBhY2llbnRlKCl7DQoNCg0KICAgICAgICAgICAgdGhpcy5heGlvcy5wb3N0KCcvbnVldm8tcGFjaWVudGUnLHRoaXMucGFjaWVudGUpDQogICAgICAgICAgICAudGhlbihyZXM9PnsNCg0KICAgICAgICAgICAgICAgIHRoaXMucGFjaWVudGVzLnB1c2gocmVzLmRhdGEpDQogICAgICAgICAgICAgICAgdGhpcy5wYWNpZW50ZS5pZGVudGlmaWNhY2lvbj0iIjsNCiAgICAgICAgICAgICAgICB0aGlzLnBhY2llbnRlLm5vbWJyZT0iIjsNCiAgICAgICAgICAgICAgICB0aGlzLnBhY2llbnRlLmVkYWQ9IiI7DQogICAgICAgICAgICAgICAgdGhpcy5wYWNpZW50ZS5wZXNvPSIiOw0KICAgICAgICAgICAgICAgIHRoaXMucGFjaWVudGUuZXN0YXR1cmE9IiI7DQogICAgICAgICAgICAgICAgdGhpcy5wYWNpZW50ZS50ZW5zaW9uYXJ0ZXJpYWw9IiI7DQogICAgICAgICAgICAgICAgdGhpcy5wYWNpZW50ZS5zaXN0b2xpY2E9IiI7DQogICAgICAgICAgICAgICAgdGhpcy5wYWNpZW50ZS5kaWFzdG9saWNhPSIiOw0KICAgICAgICAgICAgICAgIHRoaXMubWVuc2FqZS5jb2xvcj0ic3VjY2VzcyI7DQogICAgICAgICAgICAgICAgdGhpcy5tZW5zYWplLnRleHRvPSJQYWNpZW50ZSBBZ3JlZ2FkbyI7DQogICAgICAgICAgICAgICAgdGhpcy5zaG93QWxlcnQoKTsNCg0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIC5jYXRjaChlPT57DQoNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlLnJlc3BvbnNlKTsNCg0KICAgICAgICAgICAgfSkNCg0KDQogICAgICAgIH0sDQoNCiAgICAgICAgZWxpbWluYXJQYWNpZW50ZShpZCl7DQoNCiAgICAgICAgICAgIHRoaXMuYXhpb3MuZGVsZXRlKGAvcGFjaWVudGUvJHtpZH1gKQ0KICAgICAgICAgICAgLnRoZW4ocmVzPT57DQoNCiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMucGFjaWVudGVzLmZpbmRJbmRleChpdGVtPT4gaXRlbS5faWQ9PT1yZXMuZGF0YS5faWQpOw0KICAgICAgICAgICAgICAgIHRoaXMucGFjaWVudGVzLnNwbGljZShpbmRleCwgMSk7DQogICAgICAgICAgICAgICAgdGhpcy5tZW5zYWplLmNvbG9yPSJzdWNjZXNzIjsNCiAgICAgICAgICAgICAgICB0aGlzLm1lbnNhamUudGV4dG89IlBhY2llbnRlIEVsaW1pbmFkbyI7DQogICAgICAgICAgICAgICAgdGhpcy5zaG93QWxlcnQoKTsNCg0KDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKGU9PnsNCg0KICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZS5yZXNwb25zZSk7DQoNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQoNCiAgICAgICAgYWN0aXZhckVkaWNpb24oaWQpew0KDQogICAgICAgICAgICB0aGlzLmVkaXRhcj10cnVlOw0KICAgICAgICAgICAgdGhpcy5heGlvcy5nZXQoYC9wYWNpZW50ZS8ke2lkfWApDQogICAgICAgICAgICAudGhlbihyZXM9PnsNCg0KICAgICAgICAgICAgICAgIHRoaXMucGFjaWVudGVFZGl0YXI9cmVzLmRhdGE7DQoNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAuY2F0Y2goZT0+ew0KDQogICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUucmVzcG9uc2UpOw0KDQoNCiAgICAgICAgICAgIH0pDQoNCg0KICAgICAgICB9LA0KDQogICAgICAgIGVkaXRhclBhY2llbnRlKGl0ZW0pew0KICAgICAgICAgICAgDQogICAgICAgICAgICB0aGlzLmF4aW9zLnB1dChgL3BhY2llbnRlLyR7aXRlbS5faWR9YCwgaXRlbSkNCiAgICAgICAgICAgIC50aGVuKHJlcz0+ew0KICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4PSB0aGlzLnBhY2llbnRlcy5maW5kSW5kZXgobj0+IG4uX2lkPT09cmVzLmRhdGEuX2lkKTsNCiAgICAgICAgICAgICAgICB0aGlzLnBhY2llbnRlc1tpbmRleF0uaWRlbnRpZmljYWNpb249cmVzLmRhdGEuaWRlbnRpZmljYWNpb247DQogICAgICAgICAgICAgICAgdGhpcy5wYWNpZW50ZXNbaW5kZXhdLm5vbWJyZT1yZXMuZGF0YS5ub21icmU7DQogICAgICAgICAgICAgICAgdGhpcy5wYWNpZW50ZXNbaW5kZXhdLmVkYWQ9cmVzLmRhdGEuZWRhZDsNCiAgICAgICAgICAgICAgICB0aGlzLnBhY2llbnRlc1tpbmRleF0ucGVzbz1yZXMuZGF0YS5wZXNvOw0KICAgICAgICAgICAgICAgIHRoaXMucGFjaWVudGVzW2luZGV4XS5lc3RhdHVyYT1yZXMuZGF0YS5lc3RhdHVyYTsNCiAgICAgICAgICAgICAgICB0aGlzLnBhY2llbnRlc1tpbmRleF0udGVuc2lvbmFydGVyaWFsPXJlcy5kYXRhLnRlbnNpb25hcnRlcmlhbDsNCiAgICAgICAgICAgICAgICB0aGlzLnBhY2llbnRlc1tpbmRleF0uc2lzdG9saWNhPXJlcy5kYXRhLnNpc3RvbGljYTsNCiAgICAgICAgICAgICAgICB0aGlzLnBhY2llbnRlc1tpbmRleF0uZGlhc3RvbGljYT1yZXMuZGF0YS5kaWFzdG9saWNhOw0KIA0KICAgICAgICAgICAgICAgIHRoaXMubWVuc2FqZS5jb2xvcj0ic3VjY2VzcyI7DQogICAgICAgICAgICAgICAgdGhpcy5tZW5zYWplLnRleHRvPSJQYWNpZW50ZSBFZGl0YWRhIjsNCiAgICAgICAgICAgICAgICB0aGlzLnNob3dBbGVydCgpOw0KICAgICAgICAgICAgICAgIHRoaXMuZWRpdGFyPWZhbHNlOw0KDQoNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAuY2F0Y2goZT0+ew0KDQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZS5yZXNwb25zZSk7DQoNCiAgICAgICAgICAgIH0pDQoNCg0KDQogICAgICAgIH0sDQogICAgICAgIGNvdW50RG93bkNoYW5nZWQoZGlzbWlzc0NvdW50RG93bikgeyANCiAgICAgICAgICAgIHRoaXMuZGlzbWlzc0NvdW50RG93biA9IGRpc21pc3NDb3VudERvd24gDQogICAgICAgIH0sIA0KICAgICAgICBzaG93QWxlcnQoKSB7IA0KICAgICAgICAgICAgdGhpcy5kaXNtaXNzQ291bnREb3duID0gdGhpcy5kaXNtaXNzU2VjcyANCiAgICAgICAgfQ0KDQogICAgfQ0KDQp9DQo="},{"version":3,"sources":["Pacientes.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;AAIA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;;AAGA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;;AAGA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA","file":"Pacientes.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n<div class=\"container\">\r\n\r\n    <h1>Pacientes</h1>\r\n\r\n    <b-alert \r\n    :show=\"dismissCountDown\" \r\n    dismissible \r\n    :variant=\"mensaje.color\" \r\n    @dismissed=\"dismissCountDown=0\" \r\n    @dismiss-count-down=\"countDownChanged\" > \r\n    {{mensaje.texto}} \r\n    </b-alert>\r\n\r\n\r\n    <form @submit.prevent=\"editarPaciente(pacienteEditar)\" v-if=\"editar\">\r\n        <h3>Editar Paciente</h3>\r\n        <input type=\"text\" class=\"form-control my-2\" placeholder=\"Identificacion\" v-model=\"pacienteEditar.identificacion\">\r\n        <input type=\"text\" class=\"form-control my-2\" placeholder=\"Nombre\" v-model=\"pacienteEditar.nombre\">\r\n        <input type=\"text\" class=\"form-control my-2\" placeholder=\"Edad\" v-model=\"pacienteEditar.edad\">\r\n        <input type=\"text\" class=\"form-control my-2\" placeholder=\"Peso\" v-model=\"pacienteEditar.peso\">\r\n        <input type=\"text\" class=\"form-control my-2\" placeholder=\"Estatura\" v-model=\"pacienteEditar.estatura\">\r\n        <input type=\"text\" class=\"form-control my-2\" placeholder=\"Tension Arterial\" v-model=\"pacienteEditar.tensionarterial\">\r\n        <input type=\"text\" class=\"form-control my-2\" placeholder=\"Sistolica\" v-model=\"pacienteEditar.sistolica\">\r\n        <input type=\"text\" class=\"form-control my-2\" placeholder=\"Diastolica\" v-model=\"pacienteEditar.diastolica\">\r\n\r\n      \r\n        <b-button class=\"btn-success my-2 mx-2\" type=\"submit\">Editar</b-button>\r\n        <b-button class=\" my-2\" type=\"submit\" @click=\"editar=false\">Cancelar</b-button>\r\n\r\n    </form>\r\n    <form @submit.prevent=\"agregarPaciente()\" v-if=\"!editar\">\r\n        <h3>Agregar un nuevo paciente</h3>\r\n\r\n\r\n        <input type=\"text\" class=\"form-control my-2\" placeholder=\"Identificacion\" v-model=\"paciente.identificacion\">\r\n        <input type=\"text\" class=\"form-control my-2\" placeholder=\"Nombre\" v-model=\"paciente.nombre\">\r\n        <input type=\"text\" class=\"form-control my-2\" placeholder=\"Edad\" v-model=\"paciente.edad\">\r\n        <input type=\"text\" class=\"form-control my-2\" placeholder=\"Peso\" v-model=\"paciente.peso\">\r\n        <input type=\"text\" class=\"form-control my-2\" placeholder=\"Estatura\" v-model=\"paciente.estatura\">\r\n        <input type=\"text\" class=\"form-control my-2\" placeholder=\"Tension Arterial\" v-model=\"paciente.tensionarterial\">\r\n        <input type=\"text\" class=\"form-control my-2\" placeholder=\"Sistolica\" v-model=\"paciente.sistolica\">\r\n        <input type=\"text\" class=\"form-control my-2\" placeholder=\"Diastolica\" v-model=\"paciente.diastolica\">\r\n\r\n\r\n\r\n        <b-button class=\"btn-success my-2\" type=\"submit\">Agregar</b-button>\r\n\r\n    </form>\r\n\r\n    <table class=\"table\">\r\n        <thead>\r\n            <tr>\r\n                <th scope=\"col\">#</th>\r\n                <th scope=\"col\">Identificacion</th>\r\n                <th scope=\"col\">Paciente</th>\r\n                <th scope=\"col\">Edad</th>\r\n                <th scope=\"col\">Acciones</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr v-for=\"(item, index) in pacientes\" :key=\"index\">\r\n                <th scope=\"row\">{{item._id}}</th>\r\n                <td>{{item.identificacion}}</td>\r\n                <td>{{item.nombre}}</td>\r\n                <td>{{item.edad}}</td>\r\n                <td>\r\n                    <b-button class=\"btn-danger mx-2\" @click=\"eliminarPaciente(item._id)\">Eliminar</b-button>\r\n                    <b-button class=\"btn-warning mx-2\" @click=\"activarEdicion(item._id)\">Editar</b-button>\r\n                </td>\r\n            </tr>\r\n\r\n        </tbody>\r\n    </table>\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\r\n    data() {\r\n        return {\r\n\r\n            pacientes: [],\r\n            mensaje: {color: 'success', texto: ''}, \r\n            dismissSecs: 5, \r\n            dismissCountDown: 0,\r\n\r\n            paciente:{identificacion:\"\",nombre:\"\",edad:\"\",peso:\"\",estatura:\"\",tensionarterial:\"\",sistolica:\"\",diastolica:\"\"},\r\n            editar:false,\r\n            pacienteEditar:{}\r\n\r\n\r\n\r\n        }\r\n\r\n    },\r\n\r\n    created() {\r\n\r\n        this.listarPacientes();\r\n\r\n    },\r\n\r\n    methods: {\r\n\r\n        listarPacientes() {\r\n\r\n            this.axios.get('/paciente')\r\n                .then(res => {\r\n                    console.log(res.data);\r\n                    this.pacientes = res.data;\r\n\r\n                })\r\n                .catch(e => {\r\n\r\n                    console.log(e.response);\r\n\r\n                })\r\n\r\n        },\r\n\r\n        agregarPaciente(){\r\n\r\n\r\n            this.axios.post('/nuevo-paciente',this.paciente)\r\n            .then(res=>{\r\n\r\n                this.pacientes.push(res.data)\r\n                this.paciente.identificacion=\"\";\r\n                this.paciente.nombre=\"\";\r\n                this.paciente.edad=\"\";\r\n                this.paciente.peso=\"\";\r\n                this.paciente.estatura=\"\";\r\n                this.paciente.tensionarterial=\"\";\r\n                this.paciente.sistolica=\"\";\r\n                this.paciente.diastolica=\"\";\r\n                this.mensaje.color=\"success\";\r\n                this.mensaje.texto=\"Paciente Agregado\";\r\n                this.showAlert();\r\n\r\n            })\r\n            .catch(e=>{\r\n\r\n                console.log(e.response);\r\n\r\n            })\r\n\r\n\r\n        },\r\n\r\n        eliminarPaciente(id){\r\n\r\n            this.axios.delete(`/paciente/${id}`)\r\n            .then(res=>{\r\n\r\n                const index = this.pacientes.findIndex(item=> item._id===res.data._id);\r\n                this.pacientes.splice(index, 1);\r\n                this.mensaje.color=\"success\";\r\n                this.mensaje.texto=\"Paciente Eliminado\";\r\n                this.showAlert();\r\n\r\n\r\n            })\r\n            .catch(e=>{\r\n\r\n                  console.log(e.response);\r\n\r\n            })\r\n        },\r\n\r\n        activarEdicion(id){\r\n\r\n            this.editar=true;\r\n            this.axios.get(`/paciente/${id}`)\r\n            .then(res=>{\r\n\r\n                this.pacienteEditar=res.data;\r\n\r\n            })\r\n            .catch(e=>{\r\n\r\n                 console.log(e.response);\r\n\r\n\r\n            })\r\n\r\n\r\n        },\r\n\r\n        editarPaciente(item){\r\n            \r\n            this.axios.put(`/paciente/${item._id}`, item)\r\n            .then(res=>{\r\n                const index= this.pacientes.findIndex(n=> n._id===res.data._id);\r\n                this.pacientes[index].identificacion=res.data.identificacion;\r\n                this.pacientes[index].nombre=res.data.nombre;\r\n                this.pacientes[index].edad=res.data.edad;\r\n                this.pacientes[index].peso=res.data.peso;\r\n                this.pacientes[index].estatura=res.data.estatura;\r\n                this.pacientes[index].tensionarterial=res.data.tensionarterial;\r\n                this.pacientes[index].sistolica=res.data.sistolica;\r\n                this.pacientes[index].diastolica=res.data.diastolica;\r\n \r\n                this.mensaje.color=\"success\";\r\n                this.mensaje.texto=\"Paciente Editada\";\r\n                this.showAlert();\r\n                this.editar=false;\r\n\r\n\r\n            })\r\n            .catch(e=>{\r\n\r\n                console.log(e.response);\r\n\r\n            })\r\n\r\n\r\n\r\n        },\r\n        countDownChanged(dismissCountDown) { \r\n            this.dismissCountDown = dismissCountDown \r\n        }, \r\n        showAlert() { \r\n            this.dismissCountDown = this.dismissSecs \r\n        }\r\n\r\n    }\r\n\r\n}\r\n</script>\r\n"]}]}